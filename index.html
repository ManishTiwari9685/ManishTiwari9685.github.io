<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Enquiry — THE EVENT HUB</title>
  <style>
    /* Minimal styling for a small standalone form */
    :root{--bg:#f7f7f8;--card:#ffffff;--accent:#21808d;--muted:#6b6f73}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;background:var(--bg);color:#111}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:520px;background:var(--card);border-radius:10px;box-shadow:0 6px 24px rgba(0,0,0,0.06);padding:20px}
    h1{margin:0 0 8px;font-size:18px}
    p.lead{margin:0 0 16px;color:var(--muted);font-size:13px}
    label{display:block;font-size:13px;margin:10px 0 6px}
    input[type=text],input[type=email],textarea,select,input[type=tel]{width:100%;padding:10px 12px;border:1px solid #e3e5e7;border-radius:8px;font-size:14px}
    textarea{min-height:90px;resize:vertical}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .full{grid-column:1/-1}
    .actions{display:flex;gap:8px;margin-top:14px}
    button{background:var(--accent);color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer}
    .btn-muted{background:#f2f2f2;color:#111}
    .status{margin-top:12px;padding:10px;border-radius:8px;font-size:13px}
    .status.success{background:rgba(33,128,141,0.08);color:var(--accent);border:1px solid rgba(33,128,141,0.12)}
    .status.error{background:rgba(192,21,47,0.06);color:#c0152f;border:1px solid rgba(192,21,47,0.12)}
    small.note{display:block;margin-top:10px;color:var(--muted);font-size:12px}
    @media(max-width:520px){.row{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <main class="card" role="main">
      <h1>Quick Enquiry</h1>
      <p class="lead">Share a few details and we'll add them to your Google Sheet.</p>

      <form id="enquiryForm" autocomplete="on">
        <div class="row">
          <div>
            <label for="name">Full name *</label>
            <input id="name" name="name" type="text" required placeholder="Your full name">
          </div>
          <div>
            <label for="email">Email *</label>
            <input id="email" name="email" type="email" required placeholder="you@example.com">
          </div>
        </div>

        <div class="row">
          <div>
            <label for="mobile">Phone *</label>
            <input id="mobile" name="mobile" type="tel" required pattern="[6-9][0-9]{9}" placeholder="10-digit mobile">
          </div>
        </div>

        <div class="row">
          <div>
            <label for="eventDate">Event Date</label>
            <input id="eventDate" name="eventDate" type="date">
          </div>
          <div>
            <label for="city">City</label>
            <input id="city" name="city" type="text" placeholder="Your city">
          </div>
        </div>

        <div class="row">
          <div>
            <label for="budget">Budget (optional)</label>
            <input id="budget" name="budget" type="text" placeholder="e.g., 50,000 - 1,00,000">
          </div>
          <div>
            <label for="eventType">Event Type (optional)</label>
            <select id="eventType" name="eventType">
              <option value="">— select —</option>
              <option>Wedding</option>
              <option>Birthday</option>
              <option>Corporate</option>
              <option>Festival</option>
              <option>Other</option>
            </select>
          </div>
        </div>

        <div>
          <label for="message">Message (optional)</label>
          <textarea id="message" name="message" placeholder="Tell us a few details"></textarea>
        </div>

        <div class="actions">
          <button id="submitBtn" type="submit">Send</button>
          <button id="clearBtn" type="button" class="btn-muted">Clear</button>
        </div>

        <div id="status" aria-live="polite"></div>
        <small class="note">Note: set your Google Apps Script URL in the script below and deploy the script as a web app (Anyone, even anonymous) to allow submissions.</small>
      </form>
    </main>
  </div>

  <script>
    // Configure this to your deployed Google Apps Script web app URL
    const GOOGLE_APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbz1meQeEwnsrAhXw2jBpfsYS-GHbmgQc0DlP_7z4tZ3LJtlN05WbtxLBB6YBa_t1Ugkfg/exec'; // e.g. 'https://script.google.com/macros/s/XXXXX/exec'

    const form = document.getElementById('enquiryForm');
    const statusEl = document.getElementById('status');
    const submitBtn = document.getElementById('submitBtn');
    const clearBtn = document.getElementById('clearBtn');

    function setStatus(message, type){
      statusEl.innerHTML = '';
      if(!message) return;
      const d=document.createElement('div'); d.className='status '+(type==='error'?'error':'success'); d.textContent=message; statusEl.appendChild(d);
    }

    clearBtn.addEventListener('click', ()=>{ form.reset(); setStatus('', ''); });

    form.addEventListener('submit', function(e){
      e.preventDefault();
      const data = {
        timestamp: new Date().toISOString(),
        name: form.name.value.trim(),
        email: form.email.value.trim(),
        mobile: form.mobile.value.trim(),
        eventType: form.eventType.value || '',
        eventDate: form.eventDate.value || '',
        city: form.city.value.trim(),
        budget: form.budget.value.trim(),
        message: form.message.value.trim()
      };

      if(!data.name || !data.email || !data.mobile){ setStatus('Please fill all required fields.', 'error'); return; }

      if(!GOOGLE_APPS_SCRIPT_URL){
        console.log('Payload (no endpoint set):', data);
        setStatus('No endpoint configured. Payload logged to console.', 'success');
        form.reset();
        return;
      }

      submitBtn.disabled = true; submitBtn.textContent = 'Sending...'; setStatus('', '');

      // Using mode:'no-cors' is often necessary for Apps Script endpoints if CORS isn't configured.
      fetch(GOOGLE_APPS_SCRIPT_URL, {
        method: 'POST',
        mode: 'no-cors',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      })
      .then(()=>{
        setStatus('Submitted — thank you. We will contact you soon.', 'success');
        form.reset();
      })
      .catch((err)=>{
        console.error(err);
        setStatus('Submission failed. Try again or contact directly.', 'error');
      })
      .finally(()=>{ submitBtn.disabled = false; submitBtn.textContent = 'Send'; });
    });
  </script>
</body>
</html>
